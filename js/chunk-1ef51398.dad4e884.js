(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ef51398"],{"0481":function(t,e,n){"use strict";var a=n("23e7"),s=n("a2bf"),i=n("7b0b"),r=n("07fa"),c=n("5926"),l=n("65f0");a({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),n=r(e),a=l(e,0);return a.length=s(a,e,e,n,0,void 0===t?1:c(t)),a}})},"25e3":function(t,e,n){"use strict";n("8e66")},"32ff":function(t,e,n){t.exports=n.p+"img/sword.9283b7b9.svg"},3835:function(t,e,n){"use strict";function a(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d28b"),n("14d9"),n("d3b7"),n("3ca3"),n("ddb0");function s(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,s,i,r,c=[],l=!0,o=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(c.push(a.value),c.length!==e);l=!0);}catch(t){o=!0,s=t}finally{try{if(!l&&null!=n["return"]&&(r=n["return"](),Object(r)!==r))return}finally{if(o)throw s}}return c}}var i=n("06c5");n("d9e2");function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){return a(t)||s(t,e)||Object(i["a"])(t,e)||r()}},4069:function(t,e,n){"use strict";var a=n("44d2");a("flat")},"65b6":function(t,e,n){t.exports=n.p+"img/jiangbei.ed84fe2e.svg"},"800c":function(t,e,n){"use strict";n.r(e);var a=function(){var t,e,a,s,i,r,c=this,l=c._self._c;return l("div",{staticClass:"m-lover-arena",style:c.containerStyle},[l("div",{staticClass:"m-page-title"},[l("img",{staticClass:"u-img",attrs:{src:"".concat(c.cdnLink,"/design/event/lover/arena/title.png")}})]),l("div",{staticClass:"m-page-sections"},[l("div",{staticClass:"m-area-desc"},[c._m(0),l("img",{staticClass:"u-box-girl",attrs:{src:"".concat(c.cdnLink,"/design/event/lover/arena/box_girl.png")}}),c._m(1)])]),c._m(2),l("div",{staticClass:"m-current-reign"},[l("div",{staticClass:"m-reign-header"},[l("img",{attrs:{src:n("a919"),alt:""}}),l("span",[c._v(c._s((null===(t=c.currentReign.event_record)||void 0===t||null===(e=t.teammates_info)||void 0===e||null===(a=e[0])||void 0===a?void 0:a.display_name)||"-"))]),l("img",{attrs:{src:n("e38d"),alt:""}}),l("span",[c._v(c._s((null===(s=c.currentReign.event_record)||void 0===s||null===(i=s.teammates_info)||void 0===i||null===(r=i[1])||void 0===r?void 0:r.display_name)||"-"))])]),l("div",{staticClass:"m-reign-meta__wrapper"},[l("div",{staticClass:"m-reign-meta"},[l("span",{staticClass:"u-data"},[c._v(c._s(c.progressData.wins||0))]),l("span",{staticClass:"u-title"},[c._v("连胜场次")])]),l("div",{staticClass:"m-reign-meta"},[l("span",{staticClass:"u-data"},[c._v(c._s(c.currentReign.days||0))]),l("span",{staticClass:"u-title"},[c._v("守擂天数")])]),l("div",{staticClass:"m-reign-meta"},[l("span",{staticClass:"u-data"},[c._v(c._s(c.progressData.cur)+"/"+c._s(c.progressData.max))]),l("span",{staticClass:"u-title"},[c._v("下一成就")])])]),l("div",{staticClass:"m-reign-progress"},[l("div",{staticClass:"u-desc"},[l("span",[c._v(c._s(c.progressData.max)+"胜奖励："+c._s(c.progressData.label))]),l("span",[c._v(c._s(c.progressData.cur)+"/"+c._s(c.progressData.max)+"场")])]),l("el-progress",{staticClass:"u-progress",attrs:{percentage:c.progressData.cur/c.progressData.max*100,"stroke-width":20,"show-text":!1}})],1)]),c._m(3),l("div",{staticClass:"m-reign-list"},c._l(c.noCurrentReign,(function(t,e){var a,s,i,r,o,u,d;return l("div",{key:e,staticClass:"m-reign-item"},[l("div",{staticClass:"u-header"},[l("span",[c._v(c._s((null===(a=t.event_record)||void 0===a||null===(s=a.teammates_info)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.display_name)||"-"))]),l("img",{attrs:{src:n("e38d"),alt:""}}),l("span",[c._v(c._s((null===(r=t.event_record)||void 0===r||null===(o=r.teammates_info)||void 0===o||null===(u=o[1])||void 0===u?void 0:u.display_name)||"-"))])]),l("div",{staticClass:"u-data"},[l("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"11.024",height:"10.583",viewBox:"0 0 11.024 10.583",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[l("path",{attrs:{fill:"#FFDEB8",d:"M10.02 3.277l-1.991.004a1 1 0 01-.954-.693L6.464.693c-.298-.924-1.606-.924-1.904 0L3.95 2.588a1 1 0 01-.954.693l-1.99-.004c-.972-.003-1.376 1.24-.59 1.81L2.03 6.254a1 1 0 01.365 1.121l-.62 1.892c-.302.923.756 1.692 1.54 1.119l1.608-1.174a1 1 0 011.18 0l1.608 1.174c.784.573 1.842-.196 1.54-1.119l-.62-1.892a1 1 0 01.364-1.121l1.614-1.167c.787-.57.383-1.813-.588-1.81z"}})]),c._v(" 当前连胜："+c._s((null===(d=t.event_record)||void 0===d?void 0:d.wins)||0)+"场 ")]),l("div",{staticClass:"u-data"},[l("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"11.024",height:"10.583",viewBox:"0 0 11.024 10.583",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[l("path",{attrs:{fill:"#FFDEB8",d:"M10.02 3.277l-1.991.004a1 1 0 01-.954-.693L6.464.693c-.298-.924-1.606-.924-1.904 0L3.95 2.588a1 1 0 01-.954.693l-1.99-.004c-.972-.003-1.376 1.24-.59 1.81L2.03 6.254a1 1 0 01.365 1.121l-.62 1.892c-.302.923.756 1.692 1.54 1.119l1.608-1.174a1 1 0 011.18 0l1.608 1.174c.784.573 1.842-.196 1.54-1.119l-.62-1.892a1 1 0 01.364-1.121l1.614-1.167c.787-.57.383-1.813-.588-1.81z"}})]),c._v(" 守擂开始："+c._s(c.dayjs(null===t||void 0===t?void 0:t.reign_start_at).format("YYYY-MM-DD"))+" ")])])})),0)])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"u-title"},[t._v(" 比武规则 "),e("img",{attrs:{src:n("32ff"),alt:""}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"u-desc"},[e("span",{staticClass:"u-desc-title"},[t._v("参赛资格：")]),t._v("全民皆可参与擂台挑战，仅报名过的队伍挑战成功可成为擂主。"),e("br"),e("span",{staticClass:"u-desc-title"},[t._v("比赛规则：")]),t._v("魔盒邀请正赛热度较高的选手作为初始擂主，比赛地图随机，装备与配置不限，客户端不限，唯一目标就是使用一切手段终结擂主胜利。比赛时间最长10分钟，时间结束未能有有效击杀但是靠赛点取胜的队伍按照胜利2场计算，其余情况按照1场计算。擂主连胜仅可被报名过的队伍终结，未报名队伍获胜仅可获得攻擂成功奖励。擂主每次易位后将重新计算连胜场次。消极对战、掉线、自绝经脉等情况均不计算连胜。"),e("br"),e("span",{staticClass:"u-desc-title"},[t._v("挑战方式：")]),t._v("通过直播间或魔盒QQ机器人（指令：擂台赛）提供的22练习房房号抢进"),e("br"),e("span",{staticClass:"u-desc-title"},[t._v("唯一目标：")]),t._v("使用一切手段终结擂主胜利"),e("br"),e("span",{staticClass:"u-desc-title"},[t._v("挑战时间：")]),t._v("每日20:00-22:00。若擂主放弃守擂，赛事方将重新指定守擂选手"),e("br"),e("span",{staticClass:"u-desc-title"},[t._v("奖励规则：")]),t._v("擂主根据守擂成功次数累计奖励，可自主选择档位或继续冲击更高奖励。"),e("br")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-title"},[e("img",{attrs:{src:n("65b6"),alt:""}}),e("span",[t._v("当前擂主")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-title"},[e("img",{attrs:{src:n("9316"),alt:""}}),e("span",[t._v("“逐影” 擂主")])])}],i=n("c14f"),r=n("2909"),c=n("3835"),l=n("1da1"),o=n("5530"),u=(n("99af"),n("4de4"),n("7db0"),n("0481"),n("d81d"),n("14d9"),n("4069"),n("e9f5"),n("910d"),n("f665"),n("7d54"),n("ab43"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0"),n("2ef0")),d=n("ead5"),v=n("65c2"),g=n("5a0c"),f=n.n(g),_={name:"LoverArena",components:{},props:{},data:function(){return{cdnLink:v["__cdn"],challengeList:[],records:[],awards:[{count:5,label:"双人各 5000 盒币"},{count:10,label:"双人各 10000 盒币"},{count:20,label:"双人各 20000 盒币 + 魔盒卓越称号“一生一世”"},{count:30,label:"双人各 30000 盒币 + 魔盒卓越称号“情比金坚”"},{count:50,label:"双人各 50000 盒币 + 魔盒稀世称号“神仙眷侣”"}]}},computed:{progressData:function(){var t,e=this,n=this.currentReign.id?this.awards.find((function(t){return e.currentReign.wins<t.count})):this.awards[0];return n||(n=Object(o["a"])({},this.awards[this.awards.length-1]),n.count=this.currentReign.wins),{cur:(null===(t=this.currentReign)||void 0===t?void 0:t.wins)||0,max:n.count,label:n.label}},currentEvent:function(){return this.$store.getters.currentEvent||{}},containerStyle:function(){return{"--desc-bg":"url(".concat(this.cdnLink,"/design/event/lover/arena/desc_bg_1.png)"),"--bg-2":"url(".concat(this.cdnLink,"/design/event/lover/arena/bg_2.webp)"),"--bg-3":"url(".concat(this.cdnLink,"/design/event/lover/arena/bg_3.webp)"),"--reign":"url(".concat(this.cdnLink,"/design/event/lover/arena/reign_bg.webp)"),"--reign-hover":"url(".concat(this.cdnLink,"/design/event/lover/arena/reign_hover.webp)")}},currentReign:function(){return this.renderChallengeList.find((function(t){return 1===t.status}))||{}},noCurrentReign:function(){return this.renderChallengeList.filter((function(t){return 1!=t.status}))},renderChallengeList:function(){var t=[],e=Object(u["keyBy"])(Object(u["uniqBy"])(this.records.map((function(t){return t.teammeta_user_list})).flat(),"id"),"id");return this.challengeList.forEach((function(n){var a=Object(o["a"])(Object(o["a"])({},n),{},{event_record:Object(o["a"])({},n.event_record)});a.event_record&&(a.event_record.teammates_info=Object(u["uniq"])(a.event_record.teammates).map((function(t){return e[t]||null})).filter(Boolean)),a.days=f()(a.reign_end_at||new Date).diff(f()(a.reign_start_at),"day"),t.push(a)})),t}},methods:{dayjs:f.a,loadChallengeList:function(){var t=this;Object(d["b"])({_no_page:1,pvp_event_id:this.currentEvent.id}).then((function(e){t.challengeList=e.data.data.list||[]})).catch((function(t){console.error("获取擂台挑战列表失败",t)}))},loadJoinList:function(){var t=this;return Object(l["a"])(Object(i["a"])().m((function e(){var n,a,s,l;return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,Promise.all([Object(d["m"])(t.currentEvent.id),Object(d["d"])(t.currentEvent.id,{_no_page:1})]);case 1:n=e.v,a=Object(c["a"])(n,2),s=a[0],l=a[1],t.records=[].concat(Object(r["a"])(s.data.data.list||[]),Object(r["a"])(l.data.data.list||[]));case 2:return e.a(2)}}),e)})))()}},mounted:function(){this.loadChallengeList(),this.loadJoinList()}},p=_,b=(n("25e3"),n("2877")),m=Object(b["a"])(p,a,s,!1,null,null,null);e["default"]=m.exports},"8e66":function(t,e,n){},9316:function(t,e,n){t.exports=n.p+"img/gongjian.06c8c7f8.svg"},a2bf:function(t,e,n){"use strict";var a=n("e8b5"),s=n("07fa"),i=n("3511"),r=n("0366"),c=function(t,e,n,l,o,u,d,v){var g,f,_=o,p=0,b=!!d&&r(d,v);while(p<l)p in n&&(g=b?b(n[p],p,e):n[p],u>0&&a(g)?(f=s(g),_=c(t,e,g,f,_,u-1)-1):(i(_+1),t[_]=g),_++),p++;return _};t.exports=c},a919:function(t,e,n){t.exports=n.p+"img/1st.72b34b05.svg"},e38d:function(t,e,n){t.exports=n.p+"img/meigui.1ea0ee7f.svg"}}]);