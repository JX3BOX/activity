(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ad408dd"],{"0481":function(t,e,s){"use strict";var a=s("23e7"),n=s("a2bf"),i=s("7b0b"),r=s("07fa"),c=s("5926"),l=s("65f0");a({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),s=r(e),a=l(e,0);return a.length=n(a,e,e,s,0,void 0===t?1:c(t)),a}})},"32ff":function(t,e,s){t.exports=s.p+"img/sword.9283b7b9.svg"},4069:function(t,e,s){"use strict";var a=s("44d2");a("flat")},"65b6":function(t,e,s){t.exports=s.p+"img/jiangbei.ed84fe2e.svg"},"800c":function(t,e,s){"use strict";s.r(e);var a=function(){var t,e,a,n,i,r,c=this,l=c._self._c;return l("div",{staticClass:"m-lover-arena",style:c.containerStyle},[l("div",{staticClass:"m-page-title"},[l("img",{staticClass:"u-img",attrs:{src:"".concat(c.cdnLink,"/design/event/lover/arena/title.png")}})]),l("div",{staticClass:"m-page-sections"},[l("div",{staticClass:"m-area-desc"},[c._m(0),l("img",{staticClass:"u-box-girl",attrs:{src:"".concat(c.cdnLink,"/design/event/lover/arena/box_girl.png")}}),c._m(1)])]),c._m(2),l("div",{staticClass:"m-current-reign"},[l("div",{staticClass:"m-reign-header"},[l("img",{attrs:{src:s("a919"),alt:""}}),l("span",[c._v(c._s((null===(t=c.currentReign.event_record)||void 0===t||null===(e=t.teammates_info)||void 0===e||null===(a=e[0])||void 0===a?void 0:a.display_name)||"-"))]),l("img",{attrs:{src:s("e38d"),alt:""}}),l("span",[c._v(c._s((null===(n=c.currentReign.event_record)||void 0===n||null===(i=n.teammates_info)||void 0===i||null===(r=i[1])||void 0===r?void 0:r.display_name)||"-"))])]),l("div",{staticClass:"m-reign-meta__wrapper"},[l("div",{staticClass:"m-reign-meta"},[l("span",{staticClass:"u-data"},[c._v(c._s(c.progressData.wins||0))]),l("span",{staticClass:"u-title"},[c._v("连胜场次")])]),l("div",{staticClass:"m-reign-meta"},[l("span",{staticClass:"u-data"},[c._v(c._s(c.currentReign.days||0))]),l("span",{staticClass:"u-title"},[c._v("守擂天数")])]),l("div",{staticClass:"m-reign-meta"},[l("span",{staticClass:"u-data"},[c._v(c._s(c.progressData.cur)+"/"+c._s(c.progressData.max))]),l("span",{staticClass:"u-title"},[c._v("下一成就")])])]),l("div",{staticClass:"m-reign-progress"},[l("div",{staticClass:"u-desc"},[l("span",[c._v(c._s(c.progressData.max)+"胜奖励："+c._s(c.progressData.label))]),l("span",[c._v(c._s(c.progressData.cur)+"/"+c._s(c.progressData.max)+"场")])]),l("el-progress",{staticClass:"u-progress",attrs:{percentage:c.progressData.cur/c.progressData.max*100,"stroke-width":20,"show-text":!1}})],1)]),c._m(3),l("div",{staticClass:"m-reign-list"},c._l(c.noCurrentReign,(function(t,e){var a,n,i,r,o,d,u;return l("div",{key:e,staticClass:"m-reign-item"},[l("div",{staticClass:"u-header"},[l("span",[c._v(c._s((null===(a=t.event_record)||void 0===a||null===(n=a.teammates_info)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.display_name)||"-"))]),l("img",{attrs:{src:s("e38d"),alt:""}}),l("span",[c._v(c._s((null===(r=t.event_record)||void 0===r||null===(o=r.teammates_info)||void 0===o||null===(d=o[1])||void 0===d?void 0:d.display_name)||"-"))])]),l("div",{staticClass:"u-data"},[l("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"11.024",height:"10.583",viewBox:"0 0 11.024 10.583",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[l("path",{attrs:{fill:"#FFDEB8",d:"M10.02 3.277l-1.991.004a1 1 0 01-.954-.693L6.464.693c-.298-.924-1.606-.924-1.904 0L3.95 2.588a1 1 0 01-.954.693l-1.99-.004c-.972-.003-1.376 1.24-.59 1.81L2.03 6.254a1 1 0 01.365 1.121l-.62 1.892c-.302.923.756 1.692 1.54 1.119l1.608-1.174a1 1 0 011.18 0l1.608 1.174c.784.573 1.842-.196 1.54-1.119l-.62-1.892a1 1 0 01.364-1.121l1.614-1.167c.787-.57.383-1.813-.588-1.81z"}})]),c._v(" 当前连胜："+c._s((null===(u=t.event_record)||void 0===u?void 0:u.wins)||0)+"场 ")]),l("div",{staticClass:"u-data"},[l("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"11.024",height:"10.583",viewBox:"0 0 11.024 10.583",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[l("path",{attrs:{fill:"#FFDEB8",d:"M10.02 3.277l-1.991.004a1 1 0 01-.954-.693L6.464.693c-.298-.924-1.606-.924-1.904 0L3.95 2.588a1 1 0 01-.954.693l-1.99-.004c-.972-.003-1.376 1.24-.59 1.81L2.03 6.254a1 1 0 01.365 1.121l-.62 1.892c-.302.923.756 1.692 1.54 1.119l1.608-1.174a1 1 0 011.18 0l1.608 1.174c.784.573 1.842-.196 1.54-1.119l-.62-1.892a1 1 0 01.364-1.121l1.614-1.167c.787-.57.383-1.813-.588-1.81z"}})]),c._v(" 守擂开始："+c._s(c.dayjs(null===t||void 0===t?void 0:t.reign_start_at).format("YYYY-MM-DD"))+" ")])])})),0)])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"u-title"},[t._v(" 比武规则 "),e("img",{attrs:{src:s("32ff"),alt:""}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"u-desc"},[e("span",{staticClass:"u-desc-title"},[t._v("参赛资格：")]),t._v("全民皆可参与擂台挑战"),e("br"),e("span",{staticClass:"u-desc-title"},[t._v("比赛规则：")]),t._v("魔盒邀请正赛热度较高的选手作为初始擂主"),e("br"),e("span",{staticClass:"u-desc-title"},[t._v("挑战方式：")]),t._v("通过直播间22练习房抢进，比赛地图随机，装备与配置不限"),e("br"),e("span",{staticClass:"u-desc-title"},[t._v("唯一目标：")]),t._v("使用一切手段终结擂主胜利"),e("br"),e("span",{staticClass:"u-desc-title"},[t._v("挑战时间：")]),t._v("每日20:00-22:00。若擂主放弃守擂，赛事方将重新指定守擂选手"),e("br"),e("span",{staticClass:"u-desc-title"},[t._v("奖励规则：")]),t._v("擂主根据守擂成功次数累计奖励，可自主选择档位或继续冲击更高奖励；若守擂失败则易位"),e("br")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-title"},[e("img",{attrs:{src:s("65b6"),alt:""}}),e("span",[t._v("当前擂主")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-title"},[e("img",{attrs:{src:s("9316"),alt:""}}),e("span",[t._v("“逐影” 擂主")])])}],i=s("5530"),r=(s("4de4"),s("7db0"),s("0481"),s("d81d"),s("14d9"),s("4069"),s("e9f5"),s("910d"),s("f665"),s("7d54"),s("ab43"),s("d3b7"),s("159b"),s("2ef0")),c=s("ead5"),l=s("65c2"),o=s("5a0c"),d=s.n(o),u={name:"LoverArena",components:{},props:{},data:function(){return{cdnLink:l["__cdn"],challengeList:[],records:[],awards:[{count:5,label:"双人各 5000 盒币"},{count:10,label:"双人各 10000 盒币"},{count:20,label:"双人各 20000 盒币 + 魔盒卓越称号“一生一世”"},{count:30,label:"双人各 30000 盒币 + 魔盒卓越称号“情比金坚”"},{count:50,label:"双人各 50000 盒币 + 魔盒稀世称号“神仙眷侣”"}]}},computed:{progressData:function(){var t,e=this,s=this.currentReign.id?this.awards.find((function(t){return e.currentReign.wins<t.count})):this.awards[0];return s||(s=Object(i["a"])({},this.awards[this.awards.length-1]),s.count=this.currentReign.wins),{cur:(null===(t=this.currentReign)||void 0===t?void 0:t.wins)||0,max:s.count,label:s.label}},currentEvent:function(){return this.$store.getters.currentEvent||{}},containerStyle:function(){return{"--desc-bg":"url(".concat(this.cdnLink,"/design/event/lover/arena/desc_bg_1.png)"),"--bg-2":"url(".concat(this.cdnLink,"/design/event/lover/arena/bg_2.webp)"),"--bg-3":"url(".concat(this.cdnLink,"/design/event/lover/arena/bg_3.webp)"),"--reign":"url(".concat(this.cdnLink,"/design/event/lover/arena/reign_bg.webp)"),"--reign-hover":"url(".concat(this.cdnLink,"/design/event/lover/arena/reign_hover.webp)")}},currentReign:function(){return this.renderChallengeList.find((function(t){return 1===t.status}))||{}},noCurrentReign:function(){return this.renderChallengeList.filter((function(t){return 1!=t.status}))},renderChallengeList:function(){var t=[],e=Object(r["keyBy"])(Object(r["uniqBy"])(this.records.map((function(t){return t.teammeta_user_list})).flat(),"id"),"id");return this.challengeList.forEach((function(s){var a=Object(i["a"])(Object(i["a"])({},s),{},{event_record:Object(i["a"])({},s.event_record)});a.event_record&&(a.event_record.teammates_info=Object(r["uniq"])(a.event_record.teammates).map((function(t){return e[t]||null})).filter(Boolean)),a.days=d()(a.reign_end_at||new Date).diff(d()(a.reign_start_at),"day"),t.push(a)})),t}},methods:{dayjs:d.a,loadChallengeList:function(){var t=this;Object(c["b"])({_no_page:1,pvp_event_id:this.currentEvent.id}).then((function(e){t.challengeList=e.data.data.list||[],console.log(Object(r["cloneDeep"])(t.challengeList))})).catch((function(t){console.error("获取擂台挑战列表失败",t)}))},loadJoinList:function(){var t=this;Object(c["d"])(this.currentEvent.id,{_no_page:1}).then((function(e){t.records=e.data.data.list||[]}))}},mounted:function(){this.loadChallengeList(),this.loadJoinList()}},v=u,g=(s("9546"),s("2877")),_=Object(g["a"])(v,a,n,!1,null,null,null);e["default"]=_.exports},9316:function(t,e,s){t.exports=s.p+"img/gongjian.06c8c7f8.svg"},9546:function(t,e,s){"use strict";s("cd42")},a2bf:function(t,e,s){"use strict";var a=s("e8b5"),n=s("07fa"),i=s("3511"),r=s("0366"),c=function(t,e,s,l,o,d,u,v){var g,_,p=o,f=0,m=!!u&&r(u,v);while(f<l)f in s&&(g=m?m(s[f],f,e):s[f],d>0&&a(g)?(_=n(g),p=c(t,e,g,_,p,d-1)-1):(i(p+1),t[p]=g),p++),f++;return p};t.exports=c},a919:function(t,e,s){t.exports=s.p+"img/1st.72b34b05.svg"},cd42:function(t,e,s){},e38d:function(t,e,s){t.exports=s.p+"img/meigui.1ea0ee7f.svg"}}]);