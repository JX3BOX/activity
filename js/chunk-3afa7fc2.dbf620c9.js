(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3afa7fc2"],{"0328":function(t,s,e){},2814:function(t){t.exports=JSON.parse('{"a":{"2022":{"1":{"key":"75","name":"理科卷"},"2":{"key":"74","name":"文科卷"},"3":{"key":"70","name":"PVE卷"},"4":{"key":"68","name":"PVP卷"},"5":{"key":"73","name":"缘起文科"},"6":{"key":"72","name":"缘起理科"},"7":{"key":"90","name":"五仙年卷"}},"2023":{"1":{"key":"115","name":"理综卷"},"2":{"key":"113","name":"文综卷"},"3":{"key":"99","name":"PVE卷"},"4":{"key":"101","name":"PVP卷"},"5":{"key":"102","name":"PVX卷"},"6":{"key":"108","name":"PVP通识"},"7":{"key":"100","name":"缘起综合"}},"2024":{"1":{"key":"130","name":"PVE卷"},"2":{"key":"129","name":"PVX卷"},"3":{"key":"131","name":"PVP卷"}}},"b":{"1":{"color":"#555090","font":"#555090","background":"#FFE353","filter":"invert(86%) sepia(100%) saturate(472%) hue-rotate(325deg) brightness(104%) contrast(101%)","filterYear":"invert(33%) sepia(7%) saturate(4418%) hue-rotate(205deg) brightness(90%) contrast(82%)"},"2":{"color":"#264E70","font":"#264E70","background":"#BBD4CE","filter":"invert(91%) sepia(17%) saturate(205%) hue-rotate(115deg) brightness(91%) contrast(85%)","filterYear":"invert(26%) sepia(90%) saturate(322%) hue-rotate(164deg) brightness(88%) contrast(97%)"},"3":{"color":"#AE7897","font":"#fff","background":"#F9C397","filter":"invert(90%) sepia(8%) saturate(6615%) hue-rotate(305deg) brightness(123%) contrast(95%)","filterYear":"invert(58%) sepia(11%) saturate(614%) hue-rotate(314deg) brightness(105%) contrast(102%)"},"4":{"color":"#27104E","font":"#fff","background":"#AE7897","filter":"invert(54%) sepia(15%) saturate(807%) hue-rotate(273deg) brightness(94%) contrast(88%)","filterYear":"invert(7%) sepia(91%) saturate(4615%) hue-rotate(263deg) brightness(62%) contrast(96%)"},"5":{"color":"#264E70","font":"#fff","background":"#F9B4AB","filter":"invert(70%) sepia(6%) saturate(2068%) hue-rotate(317deg) brightness(111%) contrast(95%)","filterYear":"invert(25%) sepia(11%) saturate(3269%) hue-rotate(166deg) brightness(92%) contrast(83%)"},"6":{"color":"#6B2A27","font":"#fff","background":"#F9B4AB","filter":"invert(70%) sepia(6%) saturate(2068%) hue-rotate(317deg) brightness(111%) contrast(95%)","filterYear":"invert(16%) sepia(17%) saturate(6239%) hue-rotate(337deg) brightness(87%) contrast(83%)"},"7":{"color":"#543C52","font":"#fff","background":"#F55951","filter":"invert(88%) sepia(15%) saturate(322%) hue-rotate(324deg) brightness(100%) contrast(87%)","filterYear":"invert(25%) sepia(14%) saturate(996%) hue-rotate(255deg) brightness(93%) contrast(92%)"}},"c":["全部","PVE","PVP","PVX","PVBB","语文","数学","外语","信息","物理","化学","生物","政治","历史","地理","美术","音乐","体育","劳动","理综","文综"]}')},"3f37":function(t,s,e){"use strict";e.r(s);e("b0c0");var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"p-event-content"},[s("div",{staticClass:"m-paper-box",style:{backgroundColor:t.showColor}},[s("img",{staticClass:"u-previous",attrs:{src:"".concat(t.__imgRoot,"previous.png")},on:{click:t.changeShow}}),s("span",{staticClass:"u-title"},[t._v("切换试卷")]),s("div",{staticClass:"m-list"},t._l(t.exam,(function(e,a){return s("span",{key:a,class:["u-paper",{active:t.showId==a}],on:{click:function(s){return t.changeExam(a)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),t._l(t.paperList,(function(e,a){return s("Paper",{key:a,staticClass:"m-paper",attrs:{paper:e,showKey:t.showKey,showId:t.showId,showYear:t.showYear}})})),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"m-change-paper",style:{backgroundColor:t.showColor}},[s("img",{staticClass:"u-close",attrs:{src:"".concat(t.__imgRoot,"close.svg")},on:{click:function(s){t.show=!1}}}),s("div",{staticClass:"m-title"},[t._v("往届考题")]),s("div",{staticClass:"m-content"},t._l(t.exams,(function(e,a){return s("span",{key:a,staticClass:"u-year",style:{backgroundColor:t.showBackground,color:t.showFont},on:{click:function(s){return t.changeYear(a)}}},[t._v(t._s(a))])})),0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"m-mark"})],2)},i=[],r=(e("14d9"),e("b64b"),e("2814")),n=(e("4de4"),e("e9f5"),e("910d"),e("d3b7"),function(){var t=this,s=t._self._c;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-index",style:{backgroundColor:t.color}},[s("div",{staticClass:"m-header"},[s("img",{staticClass:"u-text u-logo",attrs:{src:t.__imgRoot+"logo-".concat(t.logoNumber,".svg"),alt:"魔盒"}}),s("img",{staticClass:"u-text u-text-1",attrs:{src:t.__imgRoot+"font-".concat(t.textNumber,".svg"),alt:"全力以赴"}}),s("div",{staticClass:"u-text m-year"},[s("div",{staticClass:"u-year"},[t._v(t._s(t.year))]),s("div",{staticClass:"u-text1"},[t._v("JIANSAN")]),s("div",{staticClass:"u-text2"},[t._v("GAOKAOJUAN")])]),s("img",{staticClass:"u-text u-text-2",style:{filter:t.filter},attrs:{src:t.__imgRoot+"text.png",alt:"剑三高考卷"}})]),s("div",{staticClass:"m-exam"},[s("div",{staticClass:"m-title"},[s("span",{style:{color:t.font,backgroundColor:t.background},on:{click:t.openchangeExam}},[t._v(" "+t._s(t.name)+" ")])]),s("div",{staticClass:"m-content"},[t._l(t.list,(function(e,a){return s("ExamCard",{key:e.id,attrs:{item:e.list,index:a+1,answer:e.answer,isSubmitted:t.isSubmitted,background:t.background,font:t.font,color:t.color,showId:t.showId},on:{changeVal:t.finalAnswer}})})),t.list.length?s("div",{staticClass:"m-exam-submit",class:{isSubmitted:t.isSubmitted},on:{click:t.submit}},[s("el-button",{staticClass:"u-btn",attrs:{disabled:t.isSubmitted}},[t._v("提交")])],1):t._e()],2)]),s("el-drawer",{staticClass:"m-exam-drawer",attrs:{visible:t.changeExamVisible,direction:"btt","with-header":!1},on:{"update:visible":function(s){t.changeExamVisible=s}}},[s("div",{staticClass:"m-drawer"},[s("div",{staticClass:"m-drawer-title"},[t._v("年份")]),s("div",{staticClass:"m-drawer-select"},t._l(t.exams,(function(e,a){return s("span",{key:a,class:["u-item",{active:t.showYear==a}],on:{click:function(s){t.showYear=a}}},[t._v(" "+t._s(a)+" ")])})),0),s("div",{staticClass:"m-drawer-title"},[t._v("类型")]),s("div",{staticClass:"m-drawer-select"},t._l(t.exam,(function(e,a){return s("span",{key:a,class:["u-item",{active:t.showTypeId==a}],on:{click:function(s){t.showTypeId=a}}},[t._v(" "+t._s(e.name)+" ")])})),0),s("div",{staticClass:"m-drawer-actions"},[s("button",{staticClass:"u-reset",on:{click:t.examDrawerReset}},[t._v("重置")]),s("button",{staticClass:"u-confirm",attrs:{disabled:t.examDrawerSubDis},on:{click:t.examDrawerSub}},[t._v("确定")])])])])],1)}),o=[],c=e("5530"),u=(e("7db0"),e("d81d"),e("4e82"),e("f665"),e("ab43"),e("9616")),l=(e("99af"),function(){var t=this,s=t._self._c;return t.item?s("div",{staticClass:"v-single-card"},[s("div",{staticClass:"m-single-question"},[s("div",{staticClass:"u-number",style:{background:t.color}},[s("div",{staticClass:"u-left"},[t.index?s("span",{staticClass:"u-num",style:{background:t.background}},[t._v(t._s(t.index))]):t._e(),t.index&&t.item_tags.length?t._l(t.item_tags,(function(e,a){return s("a",{key:a,staticClass:"u-tag",style:{background:t.background,color:t.font},attrs:{href:t.tagsLink(e),target:"_blank"}},[t._v(t._s(e))])})):t._e()],2),s("div",{staticClass:"u-right"},[t.isMiniProgram?[s("div",{staticClass:"u-user"},[s("span",{staticClass:"u-label",style:{background:t.background,color:t.font}},[t._v("出题人")]),t._v(t._s(t.item.createUser)+" "),s("Avatar",{staticClass:"u-avatar",attrs:{uid:t.item.createUserId}})],1),s("div",{staticClass:"u-exam"},[s("span",{staticClass:"u-label",style:{background:t.background,color:t.font}},[t._v("试题编号")]),t._v(t._s(t.item.id)+" ")])]:[s("a",{staticClass:"u-user",attrs:{href:t.authorLink(t.item.createUserId),target:"_blank"}},[s("span",{staticClass:"u-label",style:{background:t.background,color:t.font}},[t._v("出题人")]),t._v(t._s(t.item.createUser)+" ")]),s("a",{staticClass:"u-exam",attrs:{href:"".concat(t.exam_link).concat(t.item.id),target:"_blank"}},[s("span",{staticClass:"u-label",style:{background:t.background,color:t.font}},[t._v("试题编号")]),t._v(t._s(t.item.id))])]],2)]),s("div",{staticClass:"u-cont"},[s("div",{staticClass:"u-title"},[s("span",{staticClass:"u-hint"},[t._v(" ["+t._s("checkbox"==t.item.type?"多选题":"单选题")+"] ")]),s("span",{staticClass:"m-html-title",domProps:{innerHTML:t._s(t.resolveImagePath(t.item.title))}})]),s("div",{staticClass:"u-option",class:"color-".concat(t.showId)},["checkbox"===t.item.type?[s("el-checkbox-group",{on:{change:function(s){return t.checkAnswers(t.item.id,t.checkbox)}},model:{value:t.checkbox,callback:function(s){t.checkbox=s},expression:"checkbox"}},t._l(t.options,(function(e,a){return s("el-checkbox",{key:a,class:t.myWrongClass(a),attrs:{label:a,border:"",disabled:t.isSubmitted}},[s("div",{staticClass:"u-radio"},[s("span",{staticClass:"u-num"},[t._v(t._s(String.fromCharCode(65+a))+".")]),s("span",{staticClass:"m-option-content",domProps:{innerHTML:t._s(t.resolveImagePath(e))}})])])})),1)]:[s("el-radio-group",{on:{change:function(s){return t.checkAnswers(t.item.id,t.radio)}},model:{value:t.radio,callback:function(s){t.radio=s},expression:"radio"}},t._l(t.options,(function(e,a){return s("el-radio",{key:a,class:t.myWrongClass(a),attrs:{label:a,border:"",disabled:t.isSubmitted}},[s("div",{staticClass:"u-radio"},[s("span",{staticClass:"u-num"},[t._v(t._s(String.fromCharCode(65+a))+".")]),s("span",{staticClass:"m-option-content",domProps:{innerHTML:t._s(t.resolveImagePath(e))}})])])})),1)]],2)])]),t.answer?s("div",{staticClass:"m-single-answer"},[s("div",{staticClass:"u-status",class:t.myAnswersClass(t.answer)},[t._v(" "+t._s(t.status)+" ")]),t.isMiniProgram?t._e():s("div",{staticClass:"u-answer"},[t._v(" 你的答案： "),t.answer.myAnswer?s("span",t._l(t.answer.myAnswer,(function(e){return s("b",{key:e},[t._v(t._s(t.letter(e)))])})),0):s("b",[t._v("-")])]),s("div",{staticClass:"u-answer"},[t._v(" 正确答案： "),t._l(t.answer.answerList,(function(e){return s("b",{key:e},[t._v(t._s(t.letter(e)))])}))],2),s("hr"),s("div",{staticClass:"m-analysis"},[s("span",{staticClass:"u-label"},[t._v("解析：")]),t.answer.whyami?s("span",{domProps:{innerHTML:t._s(t.answer.whyami)}}):s("div",[t._v("暂无解析")])])]):t._e()]):t._e()}),h=[],d=e("ade3"),m=(e("caad"),e("fb6a"),e("7d54"),e("2532"),e("159b"),e("85e4")),f=e("65c2"),p={name:"Card",props:["item","answer","index","isSubmitted","background","color","font","showId"],data:function(){return{checkbox:[],radio:{},isMiniProgram:Object(m["j"])()}},computed:{options:function(){return this.item.options},status:function(){return this.answer.myAnswer?this.answer.myAnswerIsRight?"回答正确":"回答错误":"未作答"},exam_link:function(){return f["__Root"]+"exam/question/"},item_tags:function(){var t=this,s=this.item.tags.map((function(s){if(-1!==t.tags.indexOf(s))return s})).filter(Boolean);return s.length||(s[0]=this.item.tags[0]),s.slice(0,1)},tags:function(){return r["c"].slice(5,r["c"].length)}},watch:{item:{deep:!0,immediate:!0,handler:function(){var t=this;this.$nextTick((function(){t.initImgViewer()}))}}},methods:{authorLink:m["a"],resolveImagePath:m["m"],checkAnswers:function(t,s){var e=Array.isArray(s)?s:[s];this.$emit("changeVal",Object(d["a"])({},t,e))},myAnswersClass:function(t){var s=t.myAnswer,e=t.myAnswerIsRight;return s?e?"isCorrect":"isWrong":"noAnswer"},myWrongClass:function(t){if(!this.answer)return"";if(this.answer.myAnswerIsRight)return"";var s=this.answer.answerList,e=this.answer.myAnswer||[];return s.includes(t)?"isCorrect":e.includes(t)?"isWrong":void 0},letter:function(t){return String.fromCharCode(65+t)},tagsLink:function(t){return"/exam/?tag=".concat(t)},initImgViewer:function(){var t=this,s=document.querySelectorAll(".m-html-title img");s.forEach((function(s){s.onclick=function(){t.$hevueImgPreview({url:s.src,controlBar:!1,clickMaskCLose:!0})}}))}}},g=p,v=(e("9a20"),e("2877")),w=Object(v["a"])(g,l,h,!1,null,null,null),b=w.exports,k=e("41cb");function y(t){return Object(k["c"])().get("/api/question/user-exam-paper/"+t+"?details")}function _(t,s){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(k["c"])().post("/api/question/user-exam-paper/".concat(t,"/i-finish-all").concat(e?"?force":""),s)}var C=e("c9d2"),x={name:"Paper",inject:["__imgRoot"],props:["paper","showKey","showId"],components:{ExamCard:b},data:function(){return{data:{},list:[],answer:"",score:"",userAnswers:{},isSubmitted:!1,loading:!1,changeExamVisible:!1,exams:r["a"],showYear:"",showTypeId:"",isMiniProgram:Object(m["j"])()}},computed:{exam:function(){return this.exams[this.showYear]},id:function(){return this.paper.key},name:function(){return this.paper.name},color:function(){return this.paper.color},font:function(){return this.paper.font},background:function(){return this.paper.background},filter:function(){return this.paper.filter},filterYear:function(){return this.paper.filterYear},logoNumber:function(){var t=this.showId;return 6==t&&(t=5),t},textNumber:function(){var t=this.showId;return 5==t&&(t=3),6==t&&(t=7),t},year:function(){return this.$route.params.year},examDrawerSubDis:function(){return this.showYear==this.year&&this.showTypeId==this.showId}},watch:{showKey:function(){this.data={},this.isSubmitted=!1,this.userAnswers={},this.list=[],this.loadData()}},methods:{loadData:function(){var t=this,s=this.id;this.loading=!0,this.showKey==s&&y(s).then((function(e){var a,i,r=e.data;Object(u["b"])("paper",s),r.tags=JSON.parse(r.tags),r.questionDetailList=(null===r||void 0===r||null===(a=r.questionDetailList)||void 0===a?void 0:a.map((function(t){return t.options=JSON.parse(t.options),t.tags=JSON.parse(t.tags),t})))||[],t.data=r,t.list=(null===r||void 0===r||null===(i=r.questionDetailList)||void 0===i?void 0:i.map((function(t){return{list:t}})))||[]})).finally((function(){t.loading=!1}))},finalAnswer:function(t){this.userAnswers=Object(c["a"])(Object(c["a"])({},this.userAnswers),t)},submit:function(){var t=this;if(!C["a"].isLogin())return this.$message.error("请先登录");if(Object.keys(this.userAnswers).length){var s=this.data.questionDetailList,e=this.userAnswers,a={},i=function(t){var i=s.find((function(s){return s.id===~~t}));a[t]=e[t].map((function(t){return i.options[t]}))};for(var r in e)i(r);var n=[];for(var o in this.userAnswers)n.push({id:[o],myAnswer:this.userAnswers[o].sort()});_(this.id,a,!0).then((function(s){if(s.data.score){document.documentElement.scrollTop=0;var e=s.data.paper;t.list=t.list.map((function(t){var s=e.questionDetailList.find((function(s){return s.id===t.list.id}));s.answerList=s.answerList.sort();var a=n.find((function(t){return t.id==s.id}));return t.answer=Object(c["a"])(Object(c["a"])({},s),a),t})),t.score=String(s.data.score.score),t.isSubmitted=!0}}))}else this.$alert("不能交白卷哦~","提交失败",{type:"error"})},openchangeExam:function(){this.isMiniProgram&&(this.changeExamVisible=!0)},examDrawerReset:function(){this.showYear=this.year,this.showTypeId=this.showId},examDrawerSub:function(){this.changeExamVisible=!1,this.$parent.sonChangeExam(this.showYear,this.showTypeId)}},mounted:function(){this.loadData(),this.showYear=this.$route.params.year,this.showTypeId=this.showId}},I=x,A=(e("ce5e"),Object(v["a"])(I,n,o,!1,null,null,null)),P=A.exports,E={name:"Index",inject:["__imgRoot"],components:{Paper:P},data:function(){return{showId:1,show:!1,showYear:"",papers:r["b"],exams:r["a"]}},mounted:function(){var t=Object.keys(this.exams).reverse()[0];this.$router.push({name:"index",params:{year:t}})},computed:{exam:function(){return this.exams[this.year]},showKey:function(){return this.exam[this.showId].key},showColor:function(){return this.papers[this.showId].color},showBackground:function(){return this.papers[this.showId].background},showFont:function(){return this.papers[this.showId].font},pathId:function(){return this.$route.query.paper},year:function(){return this.$route.params.year||this.showYear},paperList:function(){var t=0===~~this.showId?1:~~this.showId,s=Object.keys(this.exam).length,e=t-1===0?s:t-1,a=t+1>s?1:t+1,i=Object.assign({},this.papers[e],this.exam[e]),r=Object.assign({},this.papers[a],this.exam[a]),n=Object.assign({},this.papers[t],this.exam[t]);return{1:i,2:n,3:r}}},methods:{changeExam:function(t){this.showId=t,this.$router.push({name:"index",params:{year:this.year},query:{paper:this.exam[t].key}}),window.scrollTo(0,0)},sonChangeExam:function(t,s){this.showId=s,this.$router.push({name:"index",params:{year:t},query:{paper:this.exam[s].key}}),window.scrollTo(0,0)},changeShow:function(){this.show=!this.show},changeYear:function(t){this.showYear=t,this.show=!1,this.showId=1,this.$router.push({name:"index",params:{year:t}}),window.scrollTo(0,0)}}},S=E,O=(e("fbfe"),Object(v["a"])(S,a,i,!1,null,null,null));s["default"]=O.exports},9857:function(t,s,e){},"9a20":function(t,s,e){"use strict";e("0328")},ce5e:function(t,s,e){"use strict";e("9857")},da7b:function(t,s,e){},fbfe:function(t,s,e){"use strict";e("da7b")}}]);