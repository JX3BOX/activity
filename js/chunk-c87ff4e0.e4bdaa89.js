(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c87ff4e0"],{"01ea":function(t,e,n){"use strict";n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return _})),n.d(e,"a",(function(){return f}));var i=n("5530"),r=n("65c2"),s=Object(i["a"])(Object(i["a"])({},r),{},{__dataPath:"https://data.jx3box.com/",__imgPath:"https://img.jx3box.com/",__iconPath:"https://icon.jx3box.com/"}),a=s.__imgPath,o=s.__dataPath,c=(s.__iconPath,s.__cms,s.__down,s.__node,s.__ossMirror,s.__ossRoot,s.__visibleMap,s.default_avatar),l=s.__Root,u=s.__OriginRoot,_=(s.__Github,s.__Preview,s.__server,s.__sso,s.__spider,s.__spider2,s.__next,s.__pay,s.__team,s.__lua,s.__dbm,s.__helperUrl,s.__os,s.__jx3,s.__cdn),f=(s.__staticPath,s.__clients,s.__postType,s.__wikiType,s.__appType,s.__gameType,s.__sourceType,s.__userGroup,s.__userLevel,s.__userLevelColor,s.__Links);s.feedback},2955:function(t,e,n){},"4d2d":function(t,e,n){"use strict";n("2955")},"64d0":function(t,e,n){},7979:function(t,e,n){"use strict";n("64d0")},"99b3":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-rank-info"},[t.times?e("TimeLine",{attrs:{html:t.times}}):t._e(),t._m(0),e("div",{staticClass:"m-rank-txt",domProps:{innerHTML:t._s(t.desc)}})],1)},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-rank-btns"},[e("a",{staticClass:"u-btn u-btn-join",attrs:{href:"/rank/#/join",target:"_blank",rel:"noopener"}}),e("a",{staticClass:"u-btn u-btn-weal",attrs:{href:"/rank/#/surprise",target:"_blank",rel:"noopener"}})])}],s=(n("99af"),n("a15b"),n("d81d"),n("e9f5"),n("ab43"),n("d3b7"),n("01ea")),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-time-line-box"},[e("h2",[t._v("活动时间线")]),e("div",{staticClass:"m-time-line-box"},[e("img",{staticClass:"u-arr u-arr-left",class:{"u-arr__hide":!t.currentIndex},attrs:{src:t.arrow},on:{click:function(e){return t.scroll("left")}}}),e("div",{staticClass:"m-timeline"},[e("ul",{ref:"timeline",style:{left:t.listLeft+"px"},domProps:{innerHTML:t._s(t.html)}})]),e("img",{staticClass:"u-arr u-arr-right",class:{"u-arr__hide":t.currentIndex==t.totalDay},attrs:{src:t.arrow},on:{click:function(e){return t.scroll("right")}}})])])},o=[],c=(n("7d54"),n("159b"),{name:"TimeLine",props:{html:{type:String,default:""}},data:function(){return{listLeft:0,currentIndex:0,totalDay:0,arrow:"".concat(s["f"],"image/rank/common/timeline_arrow.svg")}},watch:{html:{immediate:!0,handler:function(t){var e=this;t&&this.$nextTick((function(){var t=e.$refs.timeline,n=t.querySelectorAll("li"),i=new Date,r=i.getMonth()+1,s=i.getDate(),a=-1,o=!1,c=0;if(n.forEach((function(t,e){var n=t.querySelector(".u-time");if(n){var i=n.textContent.split("-"),l=parseInt(i[0],10),u=parseInt(i[1],10);c++,l===r&&u===s?(o=!0,a=e):(l<r||l===r&&u<=s)&&(a=e)}})),-1!==a){var l=n[a];l.classList.add("nearest");var u=document.createElement("div");u.classList.add("progress"),u.textContent="当前进度",l.appendChild(u)}if(o)for(var _=a+1;_<n.length;_++)n[_].classList.add("after-today");e.totalDay=c-1,e.setLiPosition(!0)}))}}},methods:{setLiPosition:function(t){for(var e=this.$refs.timeline,n=e.querySelectorAll("li"),i=0,r=0;r<n.length;r++){var s=n[r];s.style.left=i+"px",i+=s.offsetWidth+34,t?"nearest"==s.classList[0]&&this.initTreatment(s):r===this.currentIndex&&(this.listLeft=-s.offsetLeft)}},initTreatment:function(t){var e=this,n=this.$refs.timeline.offsetWidth,i=t.offsetLeft,r=n/2-i-t.offsetWidth/2;this.listLeft=r,this.$nextTick((function(){for(var t=e.$refs.timeline,n=t.querySelectorAll("li"),i=0;i<n.length;i++)-e.listLeft>=n[i].offsetLeft&&-e.listLeft<=n[i+1].offsetLeft&&(e.currentIndex=i+1)}))},scroll:function(t){var e=this.$refs.timeline,n=e.querySelector("li");n&&("left"===t?this.currentIndex=Math.max(0,this.currentIndex-1):"right"===t&&(this.currentIndex=Math.min(this.currentIndex+1,e.children.length-1)),this.setLiPosition())}}}),l=c,u=(n("7979"),n("2877")),_=Object(u["a"])(l,a,o,!1,null,null,null),f=_.exports,d={components:{TimeLine:f},data:function(){return{timelineArrow:s["f"]+"image/rank/common/timeline_arrow.svg"}},computed:{id:function(){return this.$store.state.id},desc:function(){return this.$store.state.race.desc},times:function(){var t,e=(null===(t=this.$store.state.race)||void 0===t?void 0:t.timeline)||[];return e.map((function(t){return'\n                        <li>\n                            <span class="u-time">'.concat(t.time,'</span>\n                            <span class="u-label">').concat(t.text,"</span>\n                        </li>\n                    ")})).join("")}},methods:{timeShaftChange:function(t){"next"==t?this.$refs.timeShaftSwiperRef.swiper.slideNext():"prev"==t&&this.$refs.timeShaftSwiperRef.swiper.slidePrev()}}},h=d,m=(n("4d2d"),Object(u["a"])(h,i,r,!1,null,null,null));e["default"]=m.exports}}]);