(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a968860"],{"0481":function(t,e,a){"use strict";var n=a("23e7"),s=a("a2bf"),i=a("7b0b"),r=a("07fa"),c=a("5926"),l=a("65f0");n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),a=r(e),n=l(e,0);return n.length=s(n,e,e,a,0,void 0===t?1:c(t)),n}})},"32ff":function(t,e,a){t.exports=a.p+"img/sword.9283b7b9.svg"},3835:function(t,e,a){"use strict";function n(t){if(Array.isArray(t))return t}a.d(e,"a",(function(){return c}));a("a4d3"),a("e01a"),a("d28b"),a("14d9"),a("d3b7"),a("3ca3"),a("ddb0");function s(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,s,i,r,c=[],l=!0,o=!1;try{if(i=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;l=!1}else for(;!(l=(n=i.call(a)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){o=!0,s=t}finally{try{if(!l&&null!=a["return"]&&(r=a["return"](),Object(r)!==r))return}finally{if(o)throw s}}return c}}var i=a("06c5");a("d9e2");function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){return n(t)||s(t,e)||Object(i["a"])(t,e)||r()}},"398f":function(t,e,a){},4069:function(t,e,a){"use strict";var n=a("44d2");n("flat")},"65b6":function(t,e,a){t.exports=a.p+"img/jiangbei.ed84fe2e.svg"},"800c":function(t,e,a){"use strict";a.r(e);var n=function(){var t,e,n,s,i,r,c=this,l=c._self._c;return l("lover-layout",[l("div",{staticClass:"m-lover-arena",style:c.containerStyle},[l("div",{staticClass:"m-page-title"},[l("img",{staticClass:"u-img",attrs:{src:"".concat(c.cdnLink,"/design/event/lover/arena/title.png")}})]),l("div",{staticClass:"m-page-sections"},[l("div",{staticClass:"m-area-desc"},[l("div",{staticClass:"u-title"},[c._v(" 比武规则 "),l("img",{attrs:{src:a("32ff"),alt:""}})]),l("img",{staticClass:"u-box-girl",attrs:{src:"".concat(c.cdnLink,"/design/event/lover/arena/box_girl.png")}}),l("div",{staticClass:"u-desc"},[l("span",{staticClass:"u-desc-title"},[c._v("参赛资格：")]),c._v("全民皆可参与擂台挑战，仅报名过的队伍挑战成功可成为擂主。"),l("br"),l("span",{staticClass:"u-desc-title"},[c._v("比赛规则：")]),c._v("魔盒邀请正赛热度较高的选手作为初始擂主，比赛地图随机，装备与配置不限，客户端不限，唯一目标就是使用一切手段终结擂主胜利。比赛时间最长10分钟，时间结束未能有有效击杀但是靠赛点取胜的队伍按照胜利2场计算，其余情况按照1场计算。擂主连胜仅可被报名过的队伍终结，未报名队伍获胜仅可获得攻擂成功奖励。擂主每次易位后将重新计算连胜场次。消极对战、掉线、自绝经脉等情况均不计算连胜。"),l("br"),l("span",{staticClass:"u-desc-title"},[c._v("挑战方式：")]),c._v("通过直播间或魔盒QQ机器人（指令：擂台赛）提供的22练习房房号抢进"),l("br"),l("span",{staticClass:"u-desc-title"},[c._v("唯一目标：")]),c._v("使用一切手段终结擂主胜利"),l("br"),l("span",{staticClass:"u-desc-title"},[c._v("挑战时间：")]),c._v("每日20:00-22:00。若擂主放弃守擂，赛事方将重新指定守擂选手"),l("br"),l("span",{staticClass:"u-desc-title"},[c._v("奖励规则：")]),c._v("擂主根据守擂成功次数累计奖励，可自主选择档位或继续冲击更高奖励。"),l("br")])])]),l("div",{staticClass:"m-title"},[l("img",{attrs:{src:a("65b6"),alt:""}}),l("span",[c._v("当前擂主")])]),l("div",{staticClass:"m-current-reign"},[l("div",{staticClass:"m-reign-header"},[l("img",{attrs:{src:a("a919"),alt:""}}),l("span",[c._v(c._s((null===(t=c.currentReign.event_record)||void 0===t||null===(e=t.teammates_info)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.display_name)||"-"))]),l("img",{attrs:{src:a("e38d"),alt:""}}),l("span",[c._v(c._s((null===(s=c.currentReign.event_record)||void 0===s||null===(i=s.teammates_info)||void 0===i||null===(r=i[1])||void 0===r?void 0:r.display_name)||"-"))])]),l("div",{staticClass:"m-reign-meta__wrapper"},[l("div",{staticClass:"m-reign-meta"},[l("span",{staticClass:"u-data"},[c._v(c._s(c.progressData.wins||0))]),l("span",{staticClass:"u-title"},[c._v("连胜场次")])]),l("div",{staticClass:"m-reign-meta"},[l("span",{staticClass:"u-data"},[c._v(c._s(c.currentReign.days||0))]),l("span",{staticClass:"u-title"},[c._v("守擂天数")])]),l("div",{staticClass:"m-reign-meta"},[l("span",{staticClass:"u-data"},[c._v(c._s(c.progressData.cur)+"/"+c._s(c.progressData.max))]),l("span",{staticClass:"u-title"},[c._v("下一成就")])])]),l("div",{staticClass:"m-reign-progress"},[l("div",{staticClass:"u-desc"},[l("span",[c._v(c._s(c.progressData.max)+"胜奖励："+c._s(c.progressData.label))]),l("span",[c._v(c._s(c.progressData.cur)+"/"+c._s(c.progressData.max)+"场")])]),l("el-progress",{staticClass:"u-progress",attrs:{percentage:c.progressData.cur/c.progressData.max*100,"stroke-width":20,"show-text":!1}})],1)]),l("div",{staticClass:"m-title"},[l("img",{attrs:{src:a("9316"),alt:""}}),l("span",[c._v("“逐影” 擂主")])]),l("div",{staticClass:"m-reign-list"},c._l(c.noCurrentReign,(function(t,e){var n,s,i,r,o,d;return l("div",{key:e,staticClass:"m-reign-item"},[l("div",{staticClass:"u-header"},[l("span",[c._v(c._s((null===(n=t.event_record)||void 0===n||null===(s=n.teammates_info)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.display_name)||"-"))]),l("img",{attrs:{src:a("e38d"),alt:""}}),l("span",[c._v(c._s((null===(r=t.event_record)||void 0===r||null===(o=r.teammates_info)||void 0===o||null===(d=o[1])||void 0===d?void 0:d.display_name)||"-"))])]),l("div",{staticClass:"u-data"},[l("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"11.024",height:"10.583",viewBox:"0 0 11.024 10.583",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[l("path",{attrs:{fill:"#FFDEB8",d:"M10.02 3.277l-1.991.004a1 1 0 01-.954-.693L6.464.693c-.298-.924-1.606-.924-1.904 0L3.95 2.588a1 1 0 01-.954.693l-1.99-.004c-.972-.003-1.376 1.24-.59 1.81L2.03 6.254a1 1 0 01.365 1.121l-.62 1.892c-.302.923.756 1.692 1.54 1.119l1.608-1.174a1 1 0 011.18 0l1.608 1.174c.784.573 1.842-.196 1.54-1.119l-.62-1.892a1 1 0 01.364-1.121l1.614-1.167c.787-.57.383-1.813-.588-1.81z"}})]),c._v(" 连胜次数："+c._s(t.wins||0)+"场 ")]),l("div",{staticClass:"u-data"},[l("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"11.024",height:"10.583",viewBox:"0 0 11.024 10.583",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[l("path",{attrs:{fill:"#FFDEB8",d:"M10.02 3.277l-1.991.004a1 1 0 01-.954-.693L6.464.693c-.298-.924-1.606-.924-1.904 0L3.95 2.588a1 1 0 01-.954.693l-1.99-.004c-.972-.003-1.376 1.24-.59 1.81L2.03 6.254a1 1 0 01.365 1.121l-.62 1.892c-.302.923.756 1.692 1.54 1.119l1.608-1.174a1 1 0 011.18 0l1.608 1.174c.784.573 1.842-.196 1.54-1.119l-.62-1.892a1 1 0 01.364-1.121l1.614-1.167c.787-.57.383-1.813-.588-1.81z"}})]),c._v(" 守擂开始："+c._s(c.dayjs(null===t||void 0===t?void 0:t.reign_start_at).format("YYYY-MM-DD"))+" ")])])})),0)])])},s=[],i=a("c14f"),r=a("2909"),c=a("3835"),l=a("1da1"),o=a("5530"),d=(a("99af"),a("4de4"),a("7db0"),a("0481"),a("d81d"),a("14d9"),a("4069"),a("e9f5"),a("910d"),a("f665"),a("7d54"),a("ab43"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("2ef0")),u=a("ead5"),v=a("65c2"),g=a("5a0c"),f=a.n(g),_={name:"LoverArena",components:{},props:{},data:function(){return{cdnLink:v["__cdn"],challengeList:[],records:[],awards:[{count:5,label:"双人各 5000 盒币"},{count:10,label:"双人各 10000 盒币"},{count:20,label:"双人各 20000 盒币 + 魔盒卓越称号“一生一世”"},{count:30,label:"双人各 30000 盒币 + 魔盒卓越称号“情比金坚”"},{count:50,label:"双人各 50000 盒币 + 魔盒稀世称号“神仙眷侣”"}]}},computed:{progressData:function(){var t,e=this,a=this.currentReign.id?this.awards.find((function(t){return e.currentReign.wins<t.count})):this.awards[0];return a||(a=Object(o["a"])({},this.awards[this.awards.length-1]),a.count=this.currentReign.wins),{cur:(null===(t=this.currentReign)||void 0===t?void 0:t.wins)||0,max:a.count,label:a.label}},currentEvent:function(){return this.$store.getters.currentEvent||{}},containerStyle:function(){return{"--desc-bg":"url(".concat(this.cdnLink,"/design/event/lover/arena/desc_bg_1.png)"),"--bg-2":"url(".concat(this.cdnLink,"/design/event/lover/arena/bg_2.webp)"),"--bg-3":"url(".concat(this.cdnLink,"/design/event/lover/arena/bg_3.webp)"),"--reign":"url(".concat(this.cdnLink,"/design/event/lover/arena/reign_bg.webp)"),"--reign-hover":"url(".concat(this.cdnLink,"/design/event/lover/arena/reign_hover.webp)")}},currentReign:function(){return this.renderChallengeList.find((function(t){return 1===t.status}))||{}},noCurrentReign:function(){return this.renderChallengeList.filter((function(t){return 1!=t.status}))},renderChallengeList:function(){var t=[],e=Object(d["keyBy"])(Object(d["uniqBy"])(this.records.map((function(t){return t.teammeta_user_list})).flat(),"id"),"id");return this.challengeList.forEach((function(a){var n=Object(o["a"])(Object(o["a"])({},a),{},{event_record:Object(o["a"])({},a.event_record)});n.event_record&&(n.event_record.teammates_info=Object(d["uniq"])(n.event_record.teammates).map((function(t){return e[t]||null})).filter(Boolean)),n.days=f()(n.reign_end_at||new Date).diff(f()(n.reign_start_at),"day"),t.push(n)})),t}},methods:{dayjs:f.a,loadChallengeList:function(){var t=this;Object(u["b"])({_no_page:1,pvp_event_id:this.currentEvent.id}).then((function(e){t.challengeList=e.data.data.list||[]})).catch((function(t){console.error("获取擂台挑战列表失败",t)}))},loadJoinList:function(){var t=this;return Object(l["a"])(Object(i["a"])().m((function e(){var a,n,s,l;return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,Promise.all([Object(u["m"])(t.currentEvent.id),Object(u["d"])(t.currentEvent.id,{_no_page:1})]);case 1:a=e.v,n=Object(c["a"])(a,2),s=n[0],l=n[1],t.records=[].concat(Object(r["a"])(s.data.data.list||[]),Object(r["a"])(l.data.data.list||[]));case 2:return e.a(2)}}),e)})))()}},mounted:function(){this.loadChallengeList(),this.loadJoinList()}},p=_,b=(a("88d0"),a("2877")),m=Object(b["a"])(p,n,s,!1,null,null,null);e["default"]=m.exports},"88d0":function(t,e,a){"use strict";a("398f")},9316:function(t,e,a){t.exports=a.p+"img/gongjian.06c8c7f8.svg"},a2bf:function(t,e,a){"use strict";var n=a("e8b5"),s=a("07fa"),i=a("3511"),r=a("0366"),c=function(t,e,a,l,o,d,u,v){var g,f,_=o,p=0,b=!!u&&r(u,v);while(p<l)p in a&&(g=b?b(a[p],p,e):a[p],d>0&&n(g)?(f=s(g),_=c(t,e,g,f,_,d-1)-1):(i(_+1),t[_]=g),_++),p++;return _};t.exports=c},a919:function(t,e,a){t.exports=a.p+"img/1st.72b34b05.svg"},e38d:function(t,e,a){t.exports=a.p+"img/meigui.1ea0ee7f.svg"}}]);