(function(e){function n(n){for(var r,a,o=n[0],i=n[1],d=n[2],s=0,l=[];s<o.length;s++)a=o[s],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&l.push(c[a][0]),c[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(n);while(l.length)l.shift()();return u.push.apply(u,d||[]),t()}function t(){for(var e,n=0;n<u.length;n++){for(var t=u[n],r=!0,a=1;a<t.length;a++){var o=t[a];0!==c[o]&&(r=!1)}r&&(u.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},a={lover:0},c={lover:0},u=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-1ada79c2":"f882c156","chunk-2d0e881d":"0c03c2b6","chunk-3df43dd8":"3d37b506","chunk-41886b0b":"a5cb64b1","chunk-532139d8":"c0673e00","chunk-86ff76ac":"914e9d67","chunk-540b7ff2":"e044fe08","chunk-6639048b":"263f2e80","chunk-6ad408dd":"6c8f824f","chunk-a2a0a11c":"55ad0a92","chunk-a4138bdc":"a88055ae","chunk-e6072f9c":"3f359ed4"}[e]+".js"}function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-1ada79c2":1,"chunk-3df43dd8":1,"chunk-41886b0b":1,"chunk-532139d8":1,"chunk-86ff76ac":1,"chunk-540b7ff2":1,"chunk-6639048b":1,"chunk-6ad408dd":1,"chunk-a2a0a11c":1,"chunk-a4138bdc":1,"chunk-e6072f9c":1};a[e]?n.push(a[e]):0!==a[e]&&t[e]&&n.push(a[e]=new Promise((function(n,t){for(var r="css/"+({}[e]||e)+"."+{"chunk-1ada79c2":"ba4c626f","chunk-2d0e881d":"31d6cfe0","chunk-3df43dd8":"c3574cc4","chunk-41886b0b":"6e2c5214","chunk-532139d8":"7ee2e43a","chunk-86ff76ac":"f38e31a7","chunk-540b7ff2":"e3df0f93","chunk-6639048b":"68aaca03","chunk-6ad408dd":"e00c73d6","chunk-a2a0a11c":"54c204a8","chunk-a4138bdc":"4758c697","chunk-e6072f9c":"cb42c09b"}[e]+".css",c=i.p+r,u=document.getElementsByTagName("link"),o=0;o<u.length;o++){var d=u[o],s=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(s===r||s===c))return n()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){d=l[o],s=d.getAttribute("data-href");if(s===r||s===c)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var r=n&&n.target&&n.target.src||c,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],f.parentNode.removeChild(f),t(u)},f.href=c;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)n.push(r[2]);else{var u=new Promise((function(n,t){r=c[e]=[n,t]}));n.push(r[2]=u);var d,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=o(e);var l=new Error;d=function(n){s.onerror=s.onload=null,clearTimeout(f);var t=c[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,t[1](l)}c[e]=void 0}};var f=setTimeout((function(){d({type:"timeout",target:s})}),12e4);s.onerror=s.onload=d,document.head.appendChild(s)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="https://cdn.jx3box.com/static/activity/",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],s=d.push.bind(d);d.push=n,d=d.slice();for(var l=0;l<d.length;l++)n(d[l]);var f=s;u.push([1,"chunk-vendors"]),t()})({1:function(e,n,t){e.exports=t("827b")},"7dae":function(e,n,t){"use strict";var r=t("c14f"),a=t("1da1"),c=(t("7db0"),t("4e82"),t("e9f5"),t("f665"),t("d3b7"),t("2b0e")),u=t("2f62"),o=t("cc9a"),i=t("ead5"),d=t("c9d2"),s=t("2ef0");c["default"].use(u["a"]);var l=!1,f=!1,p=!1,v=!1,b={state:{events:[],default_event_id:"",event_loading:!1,event:"",slug:"",lover_net:"",join_record:""},getters:{defaultEventSlug:function(e){var n=e.events.find((function(n){return n.id===e.default_event_id}));return n||(n=e.events[0]),n?n.slug:""},currentEvent:function(e){var n=e.events.find((function(n){return n.id===e.default_event_id}));return e.events.find((function(n){return n.slug===e.slug}))||n},currentEventId:function(e,n){return n.currentEvent?n.currentEvent.id:""}},mutations:{SET_DEFAULT_LOVER_ID:function(e,n){e.loverId=n},SET_SLUG:function(e,n){e.slug=n},SET_MY_JOIN:function(e,n){e.info.my_join=n},SET_EVENTS:function(e,n){e.events=n},SET_EVENT:function(e,n){e.event=n}},actions:{loadEvents:function(e){return Object(a["a"])(Object(r["a"])().m((function n(){var t,a,c,u;return Object(r["a"])().w((function(n){while(1)switch(n.n){case 0:if(t=e.state,a=e.commit,!(t.events.length>0||l)){n.n=1;break}return n.a(2);case 1:return l=!0,n.n=2,Object(i["f"])();case 2:c=n.v,u=c.data.data.list.sort((function(e,n){return new Date(n.created_at)-new Date(e.created_at)})),a("SET_EVENTS",u),console.log("情缘活动列表初始化完成");case 3:return n.a(2)}}),n)})))()},loadDefaultEventId:function(e){return Object(a["a"])(Object(r["a"])().m((function n(){var t,a,c;return Object(r["a"])().w((function(n){while(1)switch(n.n){case 0:if(t=e.state,a=e.commit,!t.default_event_id&&!f){n.n=1;break}return n.a(2);case 1:return f=!0,n.n=2,Object(o["b"])("event-lover-id");case 2:c=n.v,a("SET_DEFAULT_LOVER_ID",c),console.log("默认活动加载完毕");case 3:return n.a(2)}}),n)})))()},loadLoverRelationNet:function(e){return Object(a["a"])(Object(r["a"])().m((function n(){var t,a,c,u;return Object(r["a"])().w((function(n){while(1)switch(n.n){case 0:if(a=e.state,!p&&!a.lover_net){n.n=1;break}return n.a(2);case 1:if(d["a"].isLogin()){n.n=2;break}return n.a(2);case 2:return p=!0,n.n=3,Object(i["g"])();case 3:c=n.v,u=null===(t=c.data)||void 0===t?void 0:t.data,u.members=Object(s["uniqBy"])(u.members,"user_info.id"),a.lover_net=u,console.log("当前情缘关系加载完毕");case 4:return n.a(2)}}),n)})))()},loadEvent:function(e){var n=arguments;return Object(a["a"])(Object(r["a"])().m((function t(){var a,c,u,o,d,s;return Object(r["a"])().w((function(t){while(1)switch(t.p=t.n){case 0:if(a=e.commit,c=e.state,u=e.getters,o=n.length>1&&void 0!==n[1]?n[1]:{},o.slug,!c.events_loading){t.n=1;break}return t.a(2);case 1:if(c.event.slug!=c.slug){t.n=2;break}return t.a(2);case 2:if(c.slug||(c.slug=u.defaultEventSlug),c.slug){t.n=3;break}return t.a(2);case 3:return c.event_loading=!0,t.p=4,t.n=5,Object(i["e"])(u.currentEventId);case 5:d=t.v,a("SET_EVENT",d.data.data),console.log("情缘活动加载完毕:",d.data.data.slug),t.n=7;break;case 6:t.p=6,s=t.v,console.error("加载活动失败:",s);case 7:return t.p=7,c.event_loading=!1,t.f(7);case 8:return t.a(2)}}),t,null,[[4,6,7,8]])})))()},loadJoinRecord:function(e){var n=arguments;return Object(a["a"])(Object(r["a"])().m((function t(){var a,c,u,o,s,l,f,p,b;return Object(r["a"])().w((function(t){while(1)switch(t.p=t.n){case 0:if(a=e.state,c=e.getters,u=n.length>1&&void 0!==n[1]?n[1]:{},o=u.force,o){t.n=4;break}if(d["a"].isLogin()){t.n=1;break}return t.a(2);case 1:if(c.currentEventId){t.n=2;break}return t.a(2);case 2:if(!v){t.n=3;break}return t.a(2);case 3:if((null===(s=a.join_record)||void 0===s?void 0:s.event_id)!=c.currentEventId){t.n=4;break}return t.a(2);case 4:return v=!0,t.p=5,t.n=6,Object(i["h"])(c.currentEventId);case 6:f=t.v,p=null===(l=f.data)||void 0===l?void 0:l.data,p.event_id?(a.join_record=p,console.log("当前报名记录加载完毕")):console.log("当前报名记录加载完毕: 未参赛"),t.n=8;break;case 7:t.p=7,b=t.v,console.error("加载报名记录失败:",b),a.join_record="";case 8:return t.p=8,v=!1,t.f(8);case 9:return t.a(2)}}),t,null,[[5,7,8,9]])})))()}},modules:{}};n["a"]=new u["a"].Store(b)},"827b":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),a=t("5c96"),c=t.n(a),u=t("6a69"),o=(t("6b30"),t("c5b4"),t("16e5")),i=t("c14f"),d=t("1da1"),s=(t("caad"),t("14d9"),t("b0c0"),t("d3b7"),t("3ca3"),t("ddb0"),t("8c4f")),l=t("7dae");r["default"].use(s["a"]);var f=s["a"].prototype.push;s["a"].prototype.push=function(e){return f.call(this,e).catch((function(e){return e}))};var p=function(){return t.e("chunk-a4138bdc").then(t.bind(null,"fcf5"))},v=function(){return t.e("chunk-1ada79c2").then(t.bind(null,"0528"))},b=function(){return t.e("chunk-540b7ff2").then(t.bind(null,"40a4"))},h=function(){return Promise.all([t.e("chunk-41886b0b"),t.e("chunk-532139d8")]).then(t.bind(null,"a68d"))},m=function(){return Promise.all([t.e("chunk-41886b0b"),t.e("chunk-86ff76ac")]).then(t.bind(null,"06a1"))},g=function(){return t.e("chunk-3df43dd8").then(t.bind(null,"a923"))},k=function(){return t.e("chunk-6ad408dd").then(t.bind(null,"800c"))},j=function(){return t.e("chunk-2d0e881d").then(t.bind(null,"8a20"))},O=function(){return t.e("chunk-6639048b").then(t.bind(null,"9423"))},_=function(){return t.e("chunk-a2a0a11c").then(t.bind(null,"5a83"))},E=function(){return t.e("chunk-e6072f9c").then(t.bind(null,"9dad"))},w=[{name:"list",path:"/list",component:E},{name:"index",path:"/",component:p,children:[{name:"info",path:"/:slug/info",component:v},{name:"join",path:"/:slug/join",component:b},{name:"vote",path:"/:slug/vote",component:h},{name:"live",path:"/:slug/live",component:m},{name:"process",path:"/:slug/process",component:g},{name:"arena",path:"/:slug/arena",component:k},{name:"activity",path:"/:slug/activity",component:j}]},{name:"card",path:"/card/:slug?",component:O},{name:"draw",path:"/draw/:slug?",component:_}],y=new s["a"]({mode:"history",base:"/lover",routes:w});y.beforeEach(function(){var e=Object(d["a"])(Object(i["a"])().m((function e(n,t,r){var a;return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,Promise.all([l["a"].dispatch("loadDefaultEventId"),l["a"].dispatch("loadEvents"),l["a"].dispatch("loadLoverRelationNet")]);case 1:if(!n.params.slug){e.n=2;break}return l["a"].commit("SET_SLUG",n.params.slug),e.n=2,Promise.all([l["a"].dispatch("loadEvent"),l["a"].dispatch("loadJoinRecord")]);case 2:if("list"!==n.name){e.n=3;break}return e.a(2,r());case 3:if(l["a"].state.event){e.n=5;break}if(a=l["a"].getters.defaultEventSlug,!a){e.n=5;break}if(!["card","draw"].includes(n.name)){e.n=4;break}return r({name:n.name,params:{slug:a}}),e.a(2);case 4:return r({name:"info",params:{slug:a}}),e.a(2);case 5:r();case 6:return e.a(2)}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}());var S=y,T=function(){var e=this,n=e._self._c;return n("router-view")},L=[],P={name:"LoverApp"},I=P,N=t("2877"),x=Object(N["a"])(I,T,L,!1,null,null,null),D=x.exports;r["default"].config.productionTip=!1,r["default"].use(c.a),r["default"].use(u["a"]),o["a"].install(r["default"]),new r["default"]({router:S,store:l["a"],render:function(e){return e(D)}}).$mount("#app")},ead5:function(e,n,t){"use strict";t.d(n,"i",(function(){return a})),t.d(n,"f",(function(){return c})),t.d(n,"e",(function(){return u})),t.d(n,"g",(function(){return o})),t.d(n,"o",(function(){return i})),t.d(n,"d",(function(){return d})),t.d(n,"m",(function(){return s})),t.d(n,"a",(function(){return l})),t.d(n,"h",(function(){return f})),t.d(n,"r",(function(){return p})),t.d(n,"n",(function(){return v})),t.d(n,"j",(function(){return b})),t.d(n,"c",(function(){return h})),t.d(n,"p",(function(){return m})),t.d(n,"k",(function(){return g})),t.d(n,"l",(function(){return k})),t.d(n,"q",(function(){return j})),t.d(n,"b",(function(){return O}));t("5530"),t("99af"),t("14d9"),t("d3b7");var r=t("41cb");function a(){return Object(r["a"])().get("/api/cms/user/my/profile")}function c(e){return Object(r["e"])().get("/api/team/pvp-event/public/list")}function u(e){return Object(r["e"])({mute:!0}).get("/api/team/pvp-event/public/item/".concat(e))}function o(){return Object(r["e"])().get("/api/team/relation-net/members/by-type/lover")}function i(e,n){return Object(r["e"])().post("/api/team/pvp-event/".concat(e,"/join-record"),n)}function d(e,n){return Object(r["e"])().get("/api/team/pvp-event/".concat(e,"/public/join-record/list"),{params:n})}function s(e){return Object(r["e"])().get("/api/team/pvp-event/".concat(e,"/public/join-record/selected/list"))}function l(e){return Object(r["e"])().post("/api/team/pvp-event-process/manage/batch",e)}function f(e){return Object(r["e"])().get("/api/team/pvp-event/".concat(e,"/my/join-record"))}function p(e,n,t){return Object(r["e"])().post("/api/team/pvp-event/".concat(e,"/public/join-record/item/").concat(n,"/vote"),t)}function v(e,n,t){return Object(r["e"])().get("/api/team/pvp-event/".concat(e,"/public/join-record/item/").concat(n,"/vote/item/").concat(t,"/status"))}function b(e){return Object(r["e"])().get("/api/team/pvp-event/my/vote-log",{params:e})}function h(e){return Object(r["e"])().get("/api/team/pvp-event-card/public/list",{params:e})}function m(e,n){return Object(r["e"])().get("/api/team/pvp-event-card/manage/event/".concat(e,"/process/").concat(n,"/pick"))}function g(e){return Object(r["e"])().get("/api/team/pvp-event-process/manage/list",{params:e})}function k(e){return Object(r["e"])().get("/api/team/pvp-event-process/public/list",{params:e})}function j(e,n){return Object(r["e"])().post("/api/team/pvp-event-process/manage/item/".concat(e,"/set-card-id"),n)}function O(e){return Object(r["e"])().get("/api/team/pvp-event/challenge/public/list",{params:e})}}});